<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Lab 3 - Advanced - Part 2 </title>
</head>
<body>

<H1>Lab 3, <span class="copyme">advanced</span>, part 2</H1>

<div>
  <b><i>The objective of this lab</i></b> <span class="copyme">is</span> to practice using <span class="copyme">javascript</span> <b class="large">selectors</b> to identify a specific element or a list of elements.</p>

  <p>Write a <b class="large">script</b> to make the following changes to this page. Don't change the HTML!</p>

  <ul>
    <li>Count the number of &ltp&gt elements and display the number in the paragraph with id="p_count"</li>
    <li>Increase the font size of all <b>bold</b> &ltb&gt elements with class="large". Don't change any bold elements without this class.</li>
    <li><i>Use selectors</i> to specifically identify <i>all</i> italic text within unordered lists. Change this italic text to the color of your choice.</li>
    <li>Copy the text from all span elements with class="copyme". Sort it in reverse order, and concatenate all the strings together.
      Add a paragraph containing this information to the div tag with id="copyhere" </li>
    <li>Add a mouseover and mouseout listener to the 6th list element.
      Mousing over this element will cause an image of your choice to appear below the list, mouse out will remove it.  </li>
      <li>Since there is no sixth list element, hover with the mouse here.</li>

  </ul>


</div>

<div>
  <p><i>Count of paragraph elements will go here</i>:</p>
  <p id="p_count"></p>
</div>

<div id="copyhere">

</div>

<p>Some <i>italic text</i> that is <i>not</i> inside an unordered list...</p>
<ul>
  <li>And some <i>italic</i> text inside a list</li>
</ul>


<p><b>Please email if you have any questions</b>. See the lab for the rest of <span class="copyme">your</span> lab questions.</p>
<script>
    function countParagraphs(){
        var pCount = document.getElementById('p_count');
        pCount.innerText = document.querySelectorAll('p').length    ;
    }
    function increaseBold(){
        var allBolds = document.querySelectorAll('b.large');
        for ( var x = 0; x < allBolds.length; x++){
            allBolds[x].style.fontSize = '55px';
        }
    }
    function allItalics(){
         var allItalics = document.querySelectorAll('ul li i');
         for ( var x = 0; x < allItalics.length; x++){
            allItalics[x].style.color = 'red';
         }
    }

    function allSpans(){
         var allSpansArr = []
         var allSpans = document.querySelectorAll('span.copyme');
         for ( var x = 0; x < allSpans.length; x++){
            var txt = allSpans[x].innerText;
            allSpansArr.push(txt);
         }
         allSpansArr.sort().reverse();
         var pEl = document.createElement('p');
         pEl.innerText = allSpansArr.toString().replace(/,/g, ' ');
         var copyHere = document.getElementById('copyhere')
         copyHere.append(pEl);

    }
    function mouseEvents(){
        var allUnorderedLists = document.getElementsByTagName('ul');
        var targetList;

        // gets only the first list with at least 6 elements ( 0 indexed )
        for( index in allUnorderedLists){
            if( allUnorderedLists[index].childElementCount >= 5){
                targetList = allUnorderedLists[index];
                break;
            }
        }

        // get sixth list element
        var targetelement = targetList.children[5];
        targetelement.addEventListener('mouseover', function(){this.style.color = 'red';});
        targetelement.addEventListener('mouseout', function(){this.style.color= 'blue';});
    }

    countParagraphs();
    increaseBold();
    allItalics();
    allSpans();
    mouseEvents();
</script>
</body>
</html>